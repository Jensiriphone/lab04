<!-- Exercise 5: Lab – Manage Data 1 & 2 (Page 58 & 59)
Example of how labs 1 & 2 come together -
Frames in order:
When you first open the page
When you add content (newsItem to your news array)
Interval function kicks in and displays new data

#1
Part 1 - Use the following array to populate a
web page which contains news. When the
page loads up, it should display all of the
news items in the array.
Use an interval function to read the array
every 5 seconds. Every time the array is
read, remove all news elements from the
news container and fill it in with the latest
news – so the page is always in sync with
the data.

In this lab you will show your
understanding of populating very
simple templates with data.
We are syncing what is on the screen
with what is in the data. The data may
potentially change over time as new
news articles are published, so we need
to periodically check them and refresh
the screen with any new data.

let news = [
{ id: 1, title: 'Election Results',
content: "Newly elected minister..." },
{ id: 2, title: 'Sporting Success',
content: "World Cup winners..." },
{ id: 3, title: 'Tornado Warning',
content: "Residents should prepare..." }
];

#2
To update the array, create a form in your page,
which will include fields for the title of the news
item and the content, and a button to submit this
new news item.
There is a trick here. If you use a form and submit,
it will trigger a page reload. There are two ways of
solving this.
1) You can research the prevent default
behavior, which stops the form from doing a
normal post on its submit event.
Some prevent default behaviour links:
1. W3Schools
2. Mozilla MDN Web Docs
2) You can simply create a form without using an
actual html <form>. Use text field inputs and a
button with onclick event instead. -->

<!doctype html>
<html lang="en">
<template id="card-template">
    <div class="card col-8" style="width: 18rem; margin:10px">
        <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
                content.</p>
        </div>
    </div>
</template>

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Hello, world!</title>
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Bootstap Cards</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Pricing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled">Disabled</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <main>
        <div id='car-list' class="row">

        </div>
    </main>
    <script>
        const cards = [
            { title: 'Audi', description: 'Audi AG is a German automotive manufacturer of luxury vehicles headquartered in Ingolstadt, Bavaria, Germany.' },
            { title: 'Mercedes-Benz', description: 'Mercedes-Benz, commonly referred to as Mercedes, is a German luxury automotive brand.' },
            { title: 'BMW', description: 'Bayerische Motoren Werke AG, commonly referred to as BMW, is a German multinational corporate manufacturer of luxury vehicles and motorcycles headquartered in Munich, Bavaria, Germany.' }
        ];


        function getCars() {
            return new Promise(resolve => {
                setTimeout(function () {
                    // resolve the promise with the car data after 1s
                    resolve(cards)
                }, 2000)
            })
        }
        // get data asynchronously, then console.log for testing

        function addCard(card) {
            const template = document.getElementById("card-template").content.cloneNode(true);
            template.querySelector('.card-title').innerText = card.title;
            template.querySelector('.card-text').innerText = card.description;
            document.querySelector('#car-list').appendChild(template);
        }
        if ('content' in document.createElement('template')) {
            getCars().then((cars) => cars.forEach((car) => {
                addCard(car);
            }))
        }
    </script>



</body>

</html>